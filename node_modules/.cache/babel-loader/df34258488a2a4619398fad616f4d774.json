{"ast":null,"code":"var _jsxFileName = \"/Users/janeg/Documents/Projects/shopping-website-1/src/components/Quantity/Quantity.js\";\nimport React, { Component } from 'react';\nimport classes from './Quantity.module.css';\nimport cx from 'classnames';\n\nclass Quantity extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      quantity: this.props.product.count,\n      disableDec: false,\n      disableInc: false\n    };\n    this.incrementHandler = this.incrementHandler.bind(this);\n    this.decrementHandler = this.decrementHandler.bind(this);\n  }\n\n  componentDidUpdate(nextProps) {\n    if (nextProps.product.count != this.props.product.count) {\n      this.setState({\n        quantity: this.props.product.count\n      });\n    }\n  }\n\n  incrementHandler() {\n    const addQuantity = this.state.quantity + 1;\n\n    if (this.state.quantity < this.props.max) {\n      this.props.increment(this.props.product._id);\n      this.setState({\n        quantity: addQuantity\n      });\n    }\n\n    if (this.state.quantity === this.props.max - 1) {\n      this.setState({\n        disableInc: true\n      });\n    }\n\n    if (this.state.quantity === this.props.min) {\n      this.setState({\n        disableDec: false\n      });\n    }\n  }\n\n  decrementHandler() {\n    const removeQuantity = this.state.quantity - 1;\n\n    if (this.state.quantity > this.props.min) {\n      this.props.decrement(this.props.product._id);\n      this.setState({\n        quantity: removeQuantity\n      });\n    }\n\n    if (this.state.quantity === this.props.min + 1) {\n      this.setState({\n        disableDec: true\n      });\n    }\n\n    if (this.state.quantity === this.props.max) {\n      this.setState({\n        disableInc: false\n      });\n    }\n  }\n\n  render() {\n    console.log(this.state.disableDec, 'this.props.product.count', this.props.product.count, 'this.state.quantity:', this.state.quantity);\n    const {\n      disableDec,\n      disableInc\n    } = this.state;\n    let disabledDec = disableDec ? classes.QuantityDisable : '';\n    let disabledInc = disableInc ? classes.QuantityDisable : '';\n    return /*#__PURE__*/React.createElement(\"span\", {\n      className: classes.QuantityPicker,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      className: cx(classes.QuantityModifier, classes.LeftModifier, disabledDec),\n      onClick: this.decrementHandler,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 9\n      }\n    }, \"\\u2013\"), /*#__PURE__*/React.createElement(\"input\", {\n      className: classes.QuantityDisplay,\n      type: \"text\",\n      value: this.state.quantity,\n      readOnly: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"button\", {\n      className: cx(classes.QuantityModifier, classes.RightModifier, disabledInc),\n      onClick: this.incrementHandler,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 9\n      }\n    }, \"\\uFF0B\"));\n  }\n\n}\n\nexport default Quantity;","map":{"version":3,"sources":["/Users/janeg/Documents/Projects/shopping-website-1/src/components/Quantity/Quantity.js"],"names":["React","Component","classes","cx","Quantity","constructor","props","state","quantity","product","count","disableDec","disableInc","incrementHandler","bind","decrementHandler","componentDidUpdate","nextProps","setState","addQuantity","max","increment","_id","min","removeQuantity","decrement","render","console","log","disabledDec","QuantityDisable","disabledInc","QuantityPicker","QuantityModifier","LeftModifier","QuantityDisplay","RightModifier"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\n\nimport classes from './Quantity.module.css';\nimport cx from 'classnames';\nclass Quantity extends Component {\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n        quantity: this.props.product.count, \n        disableDec: false, \n        disableInc: false\n    }\n\n    this.incrementHandler = this.incrementHandler.bind(this);\n    this.decrementHandler = this.decrementHandler.bind(this);\n  }\n\n  componentDidUpdate(nextProps) {\n    if(nextProps.product.count != this.props.product.count){\n      this.setState( { quantity: this.props.product.count })\n    }\n  }\n\n  incrementHandler() {\n    const addQuantity = this.state.quantity + 1;\n\n    if (this.state.quantity < this.props.max){\n      this.props.increment(this.props.product._id)  \n      this.setState({quantity: addQuantity});\n    }\n\n    if (this.state.quantity === (this.props.max - 1)) {\n      this.setState({disableInc: true});\n    }\n    if (this.state.quantity === this.props.min) {\n      this.setState({disableDec: false});\n    }\n  }\n\n  decrementHandler() {\n    const removeQuantity = this.state.quantity - 1;\n\n    if (this.state.quantity > this.props.min) {\n      this.props.decrement(this.props.product._id)\n      this.setState({quantity: removeQuantity });\n    }\n\n    if (this.state.quantity === this.props.min + 1) {\n      this.setState({disableDec: true});\n    }\n    if (this.state.quantity === this.props.max) {\n      this.setState({disableInc: false});\n    }\n  }\n\n  render() {\n    console.log(this.state.disableDec, 'this.props.product.count', this.props.product.count, 'this.state.quantity:', this.state.quantity)\n    const { disableDec, disableInc } = this.state;\n    let disabledDec = disableDec ? classes.QuantityDisable : '';\n    let disabledInc = disableInc ? classes.QuantityDisable : ''\n\n    return (\n      <span className={classes.QuantityPicker}>\n        <button className={cx(classes.QuantityModifier, \n                                classes.LeftModifier,\n                                disabledDec)} \n                                onClick={this.decrementHandler}>&ndash;</button>\n        <input className={classes.QuantityDisplay} type=\"text\" value={this.state.quantity} readOnly />\n        <button className={cx(classes.QuantityModifier, \n                                classes.RightModifier,\n                                disabledInc)} \n                                onClick={this.incrementHandler}>&#xff0b;</button>\n      </span>\n    );\n  }\n}\n\n\nexport default Quantity"]},"metadata":{},"sourceType":"module"}